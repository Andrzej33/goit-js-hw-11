{"mappings":"oeAAA,MAIaA,EAAUC,MAAOC,EAAQC,KAClC,MAAMC,QAAiBC,MAAM,qEAA2BH,UAAgBC,8EAExE,aADqBC,EAASE,MACjB,E,iBCHjB,IAAIC,EAAO,EACPC,EAAO,GACPC,EAAQ,GACRC,EAAQ,EAQZ,MAAMC,EAAOC,SAASC,cAAc,gBAC9BC,EAASF,SAASC,cAAc,YAChCE,EAAUH,SAASC,cAAc,cAIvCF,EAAKK,iBAAiB,UAiDtB,SAAuBC,GACnBA,EAAEC,iBAEJ,MAAMC,EAAaF,EAAEG,cAAcC,SAASC,YAAYC,MAExD,IAAKJ,EAAWK,QAAUL,IAAeV,EACvC,OAEFA,EAAQU,EACRZ,EAAO,EACPO,EAAOW,UAAY,GACnBC,G,IA3DFX,EAAQC,iBAAiB,SAuEzB,WACET,GAAQ,EACRmB,G,IAvEF,MAyBMA,EAAgB,KACtB1B,EAAQS,EAAMF,GACToB,MAAKC,IAEJpB,EAAOoB,EAAKC,KACZnB,EAAQkB,EAAKE,UAGbC,QAAQC,IAAItB,GACPF,EAAKyB,OAlCD,MAEb,MAAMC,EAAS1B,EAAK2B,KAAKC,GAAQ,yCACrBA,EAAIC,sBAAsBD,EAAIE,oHAGjCF,EAAIG,iEAGJH,EAAII,oEAGJJ,EAAIK,wEAGJL,EAAIM,8CAIVC,KAAK,IAGR7B,EAAO8B,mBAAmB,YAAYV,EAAO,EAkBzCW,GALEC,EAAAC,OAAOC,QAAQ,2EAKT,IAEXC,OAAMC,GAASnB,QAAQC,IAAIkB,IAAO","sources":["src/js/api.js","src/js/search-images.js"],"sourcesContent":["const API_KEY = \"34316934-23a1792d471904186ea8894b3\";\nconst URL = \"https://pixabay.com/api/\";\nconst PER_PAGE = 4;\n\nexport const getData = async (request,page) => {\n    const response = await fetch(`${URL}?key=${API_KEY}&q=${request}&page=${page}&per_page=${PER_PAGE}&image_type=\"photo\"&orientation=\"horizontal\"&safesearch=\"true\"`);\n    const images = await response.json();\n    return images;\n//   if (response.ok) {\n    \n//       return response.json();\n    //   return images\n\n//   }\n  \n// throw new Error(response.status)\n}","import { getData } from \"./api\";\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\n\nlet page = 1;\nlet hits = [];\nlet query = '';\nlet total = 0;\n\n\n\n\n\n\n\nconst form = document.querySelector('.search-form')\nconst galery = document.querySelector('.gallery')\nconst loadBtn = document.querySelector('.load-more')\n\n\n\nform.addEventListener('submit', onSearchClick);\nloadBtn.addEventListener('click',onBtnClick)\n\nconst render = () => {\n  \n  const markup = hits.map((hit) => `<div class=\"photo-card\">\n  <img src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" width=\"120\" height=\"150\" loading=\"lazy\" />\n  <div class=\"info\">\n    <p class=\"info-item\">likes\n      <b>${hit.likes}</b>\n    </p>\n    <p class=\"info-item\">views\n      <b>${hit.views}</b>\n    </p>\n    <p class=\"info-item\">comments\n      <b>${hit.comments}</b>\n    </p>\n    <p class=\"info-item\">downloads\n      <b>${hit.downloads}</b>\n    </p>\n  </div>\n</div>`)\n    .join('');\n  \n  // galery.innerHTML = markup;\n  galery.insertAdjacentHTML('beforeend',markup)\n}\n\nconst fetchPictures = () => {\ngetData(query,page)\n    .then(data => {\n      // const { hits, totalHits, total } = data;\n      hits = data.hits;\n      total = data.totalHits;\n      // console.log(hits);\n      // console.log(totalHits);\n      console.log(total);\n      if (!hits.length) {\n        Notify.failure('Sorry, there are no images matching your search query. Please try again.')\n        return;\n      }\n    \n      // console.log(data),\n      render()\n    })\n  .catch(error => console.log(error));\n}\n\n\nfunction onSearchClick(e) {\n    e.preventDefault()\n  //  inputValue = form.searchQuery.value\n  const inputValue = e.currentTarget.elements.searchQuery.value\n    // console.log(form.searchQuery.value);\n  if (!inputValue.trim() || inputValue === query) {\n    return\n  }\n  query = inputValue;\n  page = 1;\n  galery.innerHTML = '';\n  fetchPictures()\n    // fetchUsers().then(users => console.log(users))\n}\n\n\n\n// const fetchUsers = async () => {\n//   const response = await fetch(\"https://pixabay.com/api/?key=34316934-23a1792d471904186ea8894b3&q=yellow+flowers&image_type=photo\");\n//   const users = await response.json();\n//   return users;\n// };\n\nfunction onBtnClick () {\n  page += 1;\n  fetchPictures()\n}"],"names":["$56ca17bb174b0ce3$export$7a171f172be0782e","async","request","page","response","fetch","json","$0641c79e9278e37e$var$page","$0641c79e9278e37e$var$hits","$0641c79e9278e37e$var$query","$0641c79e9278e37e$var$total","$0641c79e9278e37e$var$form","document","querySelector","$0641c79e9278e37e$var$galery","$0641c79e9278e37e$var$loadBtn","addEventListener","e","preventDefault","inputValue","currentTarget","elements","searchQuery","value","trim","innerHTML","$0641c79e9278e37e$var$fetchPictures","then","data","hits","totalHits","console","log","length","markup","map","hit","webformatURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","$0641c79e9278e37e$var$render","$iQIUW","Notify","failure","catch","error"],"version":3,"file":"01-search-images.d642b961.js.map"}